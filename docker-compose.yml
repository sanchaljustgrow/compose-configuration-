services:
  angular-frontend:
    image: sanchaljustgrow/docker-testnew-frontend:latest
    container_name: angular-frontend
    ports:
      - "8080:80"
    environment:
      CONFIG_FILE: "${CONFIG_FILE:-config.local.json}"  # default = local
    volumes:
      - ./config/${CONFIG_FILE}:/usr/share/nginx/html/assets/config.json:ro
    command: >
      sh -c "
        echo 'üöÄ Starting container using config file: ${CONFIG_FILE}';
        if [ -f /usr/share/nginx/html/assets/config.json ]; then
          echo '‚úÖ Config file content:';
          cat /usr/share/nginx/html/assets/config.json;
        else
          echo '‚ö†Ô∏è Config file not found!';
        fi;
        nginx -g 'daemon off;';
      "
